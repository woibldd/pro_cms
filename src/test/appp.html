<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>
  <style type="text/css">
    body {
      padding-top: 30px;
    }

    .open-app {
      margin: 30px;
      border-radius: 5px;
      padding: 10px 20px;
      border: 1px solid #ccc;
    }

  </style>
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
  <script>
    (function () {
      var openUrl = window.location.search;
      try {
        openUrl = openUrl.substring(1, openUrl.length);
      } catch (e) {}
      var isiOS = navigator.userAgent.match('iPad') || navigator.userAgent.match('iPhone') || navigator.userAgent
        .match(
          'iPod'),
        isAndroid = navigator.userAgent
        .match('Android'),
        isDesktop = !isiOS && !isAndroid;
      if (isiOS) {
        setTimeout(function () {
          window.location = "itms-apps://itunes.apple.com/app/[name]/[id]?mt=8";
        }, 25);
        window.location = "[scheme]://[host]?url=" + openUrl;
      } else if (isAndroid) {
        window.location = "intent://[host]/" + "url=" + openUrl +
        "#Intent;scheme=[scheme];package=[package_name];end";
      } else {
        window.location.href = openUrl;
      }
    })();

  </script>
  <a href='https://play.google.com/store/apps/details?id=com.bitkeep.wallet&launch=true'>asdsad</a>

  <a href="http://play.google.com/store/apps/details?id=com.bitkeep.wallet">扫一扫</a>

  <a href='market://details?id=com.bitkeep.wallet'>扫一扫</a>
  <a class="open-app">click me to app</a>

  <script type="text/javascript">
    let browser = {
      versions: function () {
        let u = navigator.userAgent,
          app = navigator.appVersion;
        return {
          trident: u.indexOf('Trident') > -1,
          /*IE内核*/
          presto: u.indexOf('Presto') > -1,
          /*opera内核*/
          webKit: u.indexOf('AppleWebKit') > -1,
          /*苹果、谷歌内核*/
          gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1,
          /*火狐内核*/
          mobile: !!u.match(/AppleWebKit.*Mobile.*/),
          /*是否为移动终端*/
          ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
          /*ios终端*/
          // android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, /*android终端或者uc浏览器*/
          android: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1,
          iPhone: u.indexOf('iPhone') > -1,
          /*是否为iPhone或者QQHD浏览器*/
          iPad: u.indexOf('iPad') > -1,
          /*是否iPad*/
          webApp: u.indexOf('Safari') == -1,
          /*是否web应该程序，没有头部与底部*/
          souyue: u.indexOf('souyue') > -1,
          superapp: u.indexOf('superapp') > -1,
          weixin: u.toLowerCase().indexOf('micromessenger') > -1,
          Safari: u.indexOf('Safari') > -1,
          uc: u.indexOf('Linux') > -1
        };

      }(),
      language: (navigator.browserLanguage || navigator.language).toLowerCase()
    };

    function openApp() {
      if (browser.versions.ios) {
        window.location.href = "https://www.google.com/maps/dir/?api=1&origin=" + startAddress + "&destination=" +
          endAddress + "&travelmode=driving";
      } else if (browser.versions.android) {
        window.location.href = "https://www.google.com/maps/dir/?api=1&origin=" + startAddress + "&destination=" +
          endAddress + "&travelmode=driving";
      }
    }

    var nowTime = new Date().valueOf();
    setTimeout(function () {
      var launchTime = new Date().valueOf() - nowTime;
      if (launchTime < 400) {
        if (checkIos()) {
          window.location.href = "https://itunes.apple.com/us/app/xxx/idxxx?mt=8";
        } else {
          window.location.href = "https://play.google.com/store/apps/details?id=com.bitkeep.wallet";
        }
      }
    }, 300);
    window.location.href = "url://url scheme";
    $('a').click(function () {
      // openApp()
      // var u = navigator.userAgent;
      // var isWeixin = u.toLowerCase().indexOf('micromessenger') !== -1; // 微信内
      // var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //android终端
      // var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端

      // // 微信内
      // if(isWeixin) {
      //     alert('请在浏览器上打开')
      // } else {
      //     //android端
      //     if (isAndroid) {
      //         //安卓app的scheme协议
      //         window.location.href = 'taobao://';
      //         setTimeout(function(){
      //             let hidden = window.document.hidden || window.document.mozHidden || window.document.msHidden ||window.document.webkitHidden 
      //             if(typeof hidden =="undefined" || hidden ==false){
      //                 //应用宝下载地址 (emmm 找不到淘宝应用宝的地址，这里放的是 lucky coffee 地址)
      //                 window.location.href ="https://a.app.qq.com/o/simple.jsp?pkgname=com.bitkeep.wallet5";
      //             }
      //         }, 2000);

      //     }
      //     //ios端
      //     if (isIOS) {
      //         //ios的scheme协议
      //         window.location.href = 'taobao://'
      //         setTimeout(function(){
      //             let hidden = window.document.hidden || window.document.mozHidden || window.document.msHidden ||window.document.webkitHidden 
      //             if(typeof hidden =="undefined" || hidden ==false){
      //                 //App store下载地址
      //                 window.location.href = "http://itunes.apple.com/app/id387682726";
      //             }
      //         }, 2000);
      //     }
      // }

    });

  </script>
</body>

</html>
