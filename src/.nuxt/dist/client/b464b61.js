(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{576:function(e,t,n){"use strict";n.r(t),n.d(t,"transfer16",(function(){return l})),n.d(t,"wallet",(function(){return d}));t=n(257);var i=n(31),s=n(4),r=n(114),o=n(115),c=n(182),a=n(183),u=n(140);t=n(57),t=n(255),t=n(17),t=n(66),t=n(58),t=n(181);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);return r=t?(n=Object(u.a)(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),Object(a.a)(this,r)}}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"1";return"0x"+(e=isNaN(Number(e))?1:Number(e)).toString(16)}var d=new(function(e){Object(c.a)(f,e);var t,n,d,a,u,m=h(f);function f(){var e;return Object(r.a)(this,f),(e=m.call(this))._accounts=[],e._chainId=0,e._walletPlatform="bitkeep",e}return Object(o.a)(f,[{key:"isInstall",value:function(){var e=!!window.ethereum&&!!window.isBitKeep;return e||console.warn("no installed bitkeep"),e}},{key:"isConnected",value:function(){return window.ethereum&&window.ethereum.isConnected()}},{key:"connect",value:(u=Object(s.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInstall())return e.next=3,ethereum.request({method:"eth_requestAccounts"});e.next=8;break;case 3:return t=e.sent,this.initEvent(),e.abrupt("return",t[0]);case 8:return e.abrupt("return",{status:50001,message:"please download bitkeep chrome "});case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"selectedAddress",value:function(){return window.ethereum&&ethereum.selectedAddress}},{key:"getWalletInfo",value:function(){return{address:window.ethereum&&ethereum.selectedAddress,chainName:window.ethereum&&window.ethereum.chainName||"eth",chainId:window.ethereum&&window.ethereum.chainId||"1",walletId:"",walletPlatform:this.getWalletPlatform()}}},{key:"getChainId",value:(a=Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.ethereum&&window.ethereum.request({method:"eth_chainId"}));case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"switchChainId",value:(d=Object(s.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=7;break}return e.next=3,this.getAccounts();case 3:r=e.sent,r=(r=Object(i.a)(r,1))[0],n=r;case 7:return e.abrupt("return",window.ethereum&&window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:l(t)},n]}));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"getWalletPlatform",value:function(){return this._walletPlatform}},{key:"getAccounts",value:(n=Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.ethereum?window.ethereum.request({method:"eth_accounts"}):[]);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"LoginSign",value:(t=Object(s.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n,"dataToSign, addressdataToSign, addressdataToSign, address"),e.next=3,window.ethereum.request({method:"personal_sign",params:[t,n],from:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{key:"initEvent",value:function(){var u=this;ethereum.removeAllListeners&&ethereum.removeAllListeners(),ethereum.on("accountsChanged",Object(s.a)(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];u.emit.apply(u,["accountsChanged"].concat(n));case 2:case"end":return e.stop()}}),e)})))),ethereum.on("chainChanged",Object(s.a)(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];u.emit.apply(u,["chainChanged"].concat(n));case 2:case"end":return e.stop()}}),e)}))))}}]),f}(n.n(t).a))}}]);