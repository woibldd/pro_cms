{"version":3,"file":"pages/activity/blindboxInvite/copy.js","sources":["webpack:///./pages/activity/blindboxInvite/copy.js"],"sourcesContent":["import { Toast } from 'vant';\nconst vCopy = { // 名字爱取啥取啥\n /*\n  bind 钩子函数，第一次绑定时调用，可以在这里做初始化设置\n  el: 作用的 dom 对象\n  value: 传给指令的值，也就是我们要 copy 的值\n */\n bind(el, { value }) {\n  el.$value = value; // 用一个全局属性来存传进来的值，因为这个值在别的钩子函数里还会用到\n  el.handler = () => {\n   if (!el.$value) {\n   // 值为空的时候，给出提示，我这里的提示是用的 vant 的提示\n   Toast.fail('无复制内容');\n    return;\n   }\n   // 动态创建 textarea 标签\n   const textarea = document.createElement('textarea');\n   // 将该 textarea 设为 readonly 防止 iOS 下自动唤起键盘，同时将 textarea 移出可视区域\n   textarea.readOnly = 'readonly';\n   textarea.style.position = 'absolute';\n   textarea.style.left = '-9999px';\n   // 将要 copy 的值赋给 textarea 标签的 value 属性\n   textarea.value = el.$value;\n   // 将 textarea 插入到 body 中\n   document.body.appendChild(textarea);\n   // 选中值并复制\n   textarea.select();\n   textarea.setSelectionRange(0, textarea.value.length);\n   const result = document.execCommand('Copy');\n   if (result) {\n    Toast.success('复制成功');\n   }\n   document.body.removeChild(textarea);\n  };\n  // 绑定点击事件，就是所谓的一键 copy\n  el.addEventListener('click', el.handler);\n },\n // 当传进来的值更新的时候触发\n componentUpdated(el, { value }) {\n  el.$value = value;\n },\n // 指令与元素解绑的时候，移除事件绑定\n unbind(el) {\n  el.removeEventListener('click', el.handler);\n },\n};\nexport default vCopy;\n\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AA5CA;AA6CA;;;;A","sourceRoot":""}